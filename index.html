<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="author" content="RoboCup Rescue Simulation Team">
<title>Agent Development Framework (ADF) Manual</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge, pre.rouge .w {
  color: #24292f;
  background-color: #f6f8fa;
}
pre.rouge .k, pre.rouge .kd, pre.rouge .kn, pre.rouge .kp, pre.rouge .kr, pre.rouge .kt, pre.rouge .kv {
  color: #cf222e;
}
pre.rouge .gr {
  color: #f6f8fa;
}
pre.rouge .gd {
  color: #82071e;
  background-color: #ffebe9;
}
pre.rouge .nb {
  color: #953800;
}
pre.rouge .nc {
  color: #953800;
}
pre.rouge .no {
  color: #953800;
}
pre.rouge .nn {
  color: #953800;
}
pre.rouge .sr {
  color: #116329;
}
pre.rouge .na {
  color: #116329;
}
pre.rouge .nt {
  color: #116329;
}
pre.rouge .gi {
  color: #116329;
  background-color: #dafbe1;
}
pre.rouge .kc {
  color: #0550ae;
}
pre.rouge .l, pre.rouge .ld, pre.rouge .m, pre.rouge .mb, pre.rouge .mf, pre.rouge .mh, pre.rouge .mi, pre.rouge .il, pre.rouge .mo, pre.rouge .mx {
  color: #0550ae;
}
pre.rouge .sb {
  color: #0550ae;
}
pre.rouge .bp {
  color: #0550ae;
}
pre.rouge .ne {
  color: #0550ae;
}
pre.rouge .nl {
  color: #0550ae;
}
pre.rouge .py {
  color: #0550ae;
}
pre.rouge .nv, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi, pre.rouge .vm {
  color: #0550ae;
}
pre.rouge .o, pre.rouge .ow {
  color: #0550ae;
}
pre.rouge .gh {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .gu {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .s, pre.rouge .sa, pre.rouge .sc, pre.rouge .dl, pre.rouge .sd, pre.rouge .s2, pre.rouge .se, pre.rouge .sh, pre.rouge .sx, pre.rouge .s1, pre.rouge .ss {
  color: #0a3069;
}
pre.rouge .nd {
  color: #8250df;
}
pre.rouge .nf, pre.rouge .fm {
  color: #8250df;
}
pre.rouge .err {
  color: #f6f8fa;
  background-color: #82071e;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cm, pre.rouge .cp, pre.rouge .cpf, pre.rouge .c1, pre.rouge .cs {
  color: #6e7781;
}
pre.rouge .gl {
  color: #6e7781;
}
pre.rouge .gt {
  color: #6e7781;
}
pre.rouge .ni {
  color: #24292f;
}
pre.rouge .si {
  color: #24292f;
}
pre.rouge .ge {
  color: #24292f;
  font-style: italic;
}
pre.rouge .gs {
  color: #24292f;
  font-weight: bold;
}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Agent Development Framework (ADF) Manual</h1>
<div class="details">
<span id="author" class="author">RoboCup Rescue Simulation Team</span><br>
<span id="revnumber">version 4.1,</span>
<span id="revdate">February 03, 2023</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#purpose">1. Purpose</a></li>
<li><a href="#installation">2. Installation</a>
<ul class="sectlevel2">
<li><a href="#requirements">2.1. Software Requirements</a></li>
<li><a href="#download">2.2. Download</a></li>
<li><a href="#directories">2.3. Directories</a></li>
<li><a href="#compiling">2.4. Compiling</a></li>
</ul>
</li>
<li><a href="#running">3. Running</a>
<ul class="sectlevel2">
<li><a href="#precomputation_mode">3.1. Precomputation Mode</a></li>
<li><a href="#normal_mode">3.2. Normal Mode</a></li>
</ul>
</li>
<li><a href="#develop_agent">4. Develop your own agents using ADF</a>
<ul class="sectlevel2">
<li><a href="#workflow">4.1. Workflow for coding your agents</a></li>
<li><a href="#files">4.2. Customize modules</a></li>
<li><a href="#module_configuration">4.3. Modules' configuration file</a></li>
<li><a href="#astar_example">4.4. Example of implementing A* algorithm for Path Planning algorithm</a>
<ul class="sectlevel3">
<li><a href="#copy_sample">4.4.1. Copy the Dijkstra Path Planning file</a></li>
<li><a href="#edit_sample">4.4.2. Edit the Dijkstra code</a></li>
<li><a href="#edit_module_configuration">4.4.3. Edit the Modules' configuration file</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="purpose">1. Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The manual instructs how to install and execute the RoboCup Rescue Simulation Agent Development Framework (ADF) Sample Agents, and how to implement a new team of agents using the ADF Sample Agents.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation">2. Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This manual assumes the agents will run in a Linux machine even though it is possible to run them in Microsoft Windows or Apple macOS. We recommend to use Linux because it is open-source and most of the distributions have a good support from the users' community. If you have never used Linux before and intend to, we recommend starting with a user-friendly distribution, such as <a href="https://www.ubuntu.com/">Ubuntu</a> or <a href="https://getfedora.org">Fedora</a>.</p>
</div>
<div class="sect2">
<h3 id="requirements">2.1. Software Requirements</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://adoptium.net/">Java OpenJDK 17</a></p>
</li>
<li>
<p><a href="https://git-scm.com/">Git</a></p>
</li>
<li>
<p>Utilities like <code>wget</code>, <code>bash</code>, <code>xterm</code>, <code>tar</code>, <code>gzip</code>, etc.<br>
<strong>NOTE:</strong> If you are using Ubuntu, all of these utilities are present in the default software repositories.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="download">2.2. Download</h3>
<div class="paragraph">
<p>You can download the sample agents with ADF by cloning the <code><a href="https://github.com/roborescue/adf-sample-agent-java" class="bare">https://github.com/roborescue/adf-sample-agent-java</a></code> repository. Clone this repository using the command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">git clone https://github.com/roborescue/adf-sample-agent-java.git</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="directories">2.3. Directories</h3>
<div class="paragraph">
<p>The <code>adf-sample-agent-java</code> contains multiple directories. The important directories are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>config/</code>: ADF and Agent Modules'  configuration files</p>
</li>
<li>
<p><code>src/</code>: Sample agents' source codes</p>
</li>
<li>
<p><code>precomp_data</code>: results of a precomputation for each type of agents</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="compiling">2.4. Compiling</h3>
<div class="paragraph">
<p>Execute the steps below to compile the ADF Sample Agent.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">cd </span>adf-sample-agent-java
<span class="nv">$ </span>./gradlew clean build</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running">3. Running</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two modes of execution of the simulation server and ADF Sample Agent: <strong>Precomputation</strong> and <strong>Normal</strong>.</p>
</div>
<div class="sect2">
<h3 id="precomputation_mode">3.1. Precomputation Mode</h3>
<div class="paragraph">
<p>In the precomputation mode, the simulator connects one agent of each type and allows them to write the computation results persistently.</p>
</div>
<div class="paragraph">
<p>The sequence of commands to run the simulation server in precomputation mode are:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">cd </span>rcrs-server
<span class="nv">$ </span><span class="nb">cd </span>scripts
<span class="nv">$ </span>./start-precompute.sh <span class="nt">-m</span> ../maps/test/maps <span class="nt">-c</span> ../maps/test/config</code></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="https://roborescue.github.io/rcrs-server/rcrs-server/index.html">RoboCup Rescue Simulator Manual</a> for further information on how to compile and run the RoboCup Rescue Simulator server.</p>
</div>
<div class="paragraph">
<p>After running the simulation server for the precomputation, move to the ADF Sample Agent directory on another terminal window and run the agents executing the commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>bash launch.sh <span class="nt">-t</span> 1,0,1,0,1,0 <span class="nt">-h</span> localhost <span class="nt">-pre</span> 1 &amp; <span class="nv">APID</span><span class="o">=</span><span class="nv">$!</span> <span class="p">;</span> <span class="nb">sleep </span>120 <span class="p">;</span> <span class="nb">kill</span> <span class="nv">$APID</span>

<span class="o">[</span>START] Connect to server <span class="o">(</span>host:localhost, port:27931<span class="o">)</span>
<span class="o">[</span>INFO] Connected - adf.agent.platoon.PlatoonFire@756ec19c <span class="o">(</span>PRECOMPUTATION<span class="o">)</span>
<span class="o">[</span>INFO] Connected - adf.agent.platoon.PlatoonPolice@366bbbe <span class="o">(</span>PRECOMPUTATION<span class="o">)</span>
<span class="o">[</span>INFO] Connected - adf.agent.platoon.PlatoonAmbulance@2a453513 <span class="o">(</span>PRECOMPUTATION<span class="o">)</span>
<span class="k">********************</span>
<span class="o">[</span>FINISH] Connect PoliceForce <span class="o">(</span>success:1<span class="o">)</span>
<span class="o">[</span>FINISH] Connect AmbulanceTeam <span class="o">(</span>success:1<span class="o">)</span>
<span class="o">[</span>FINISH] Connect FireBrigade <span class="o">(</span>success:1<span class="o">)</span>
<span class="o">[</span>FINISH] Done connecting to server <span class="o">(</span>3 agents<span class="o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the precomputation is completed, press <em>Control-C</em> and type <code>bash kill.sh</code> to stop the simulation server of running.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">Control-C
<span class="nv">$ </span>bash kill.sh</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="normal_mode">3.2. Normal Mode</h3>
<div class="paragraph">
<p>In the normal mode, the simulator connects all agents defined in the scenario and allows them to use the precomputation output (see <a href="#precomputation_mode">Section 3.1</a>).</p>
</div>
<div class="paragraph">
<p>The sequence of commands to run the simulation server in normal mode are:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">cd </span>rcrs-server
<span class="nv">$ </span><span class="nb">cd </span>scripts
<span class="nv">$ </span>bash start-comprun.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="https://roborescue.github.io/rcrs-server/rcrs-server/index.html">RoboCup Rescue Simulator Manual</a> for further information on how to compile and run the RoboCup Rescue Simulator server.</p>
</div>
<div class="paragraph">
<p>After running the simulation server, move to the ADF Sample Agent directory on another terminal window and run the agents using the commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>bash launch.sh <span class="nt">-all</span>
<span class="o">[</span>FINISH] Done connecting to server <span class="o">(</span>3 agents<span class="o">)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="develop_agent">4. Develop your own agents using ADF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section explain how to implement your agents using the ADF Sample Agent as the starting point.</p>
</div>
<div class="sect2">
<h3 id="workflow">4.1. Workflow for coding your agents</h3>
<div class="paragraph">
<p>The steps necessary to code your own agents are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Implement the customized modules</p>
</li>
<li>
<p>Change the <code>config/module.cfg</code> to point to the customized modules</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="files">4.2. Customize modules</h3>
<div class="paragraph">
<p>ADF is a modular framework whose modules were define in the <code>adf-core-java</code> (<a href="https://github.com/roborescue/adf-core-java" class="bare">https://github.com/roborescue/adf-core-java</a>) repository together with a set of default implementations. To implement your own team of agents, you have to implement the modules' Java interfaces correspondent to the behavior you want to customize.</p>
</div>
<div class="paragraph">
<p>The default implementations of the modules' Java interfaces is available under the package <code>impl</code> in the <code>adf-core-java</code> repository. There you find default implementations for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>adf.impl.centralized</code>: source code of the  <em>central agents</em>. This is the type of agents whose only interaction with the world is through radio communication. There are three types of central agents: <strong>Ambulance Centers</strong>, <strong>Fire Stations</strong> and <strong>Police Office</strong>, and they are represented as buildings in the simulation server.</p>
</li>
<li>
<p><code>adf.impl.extraction</code>: source code of the possible actions available to agents.</p>
</li>
<li>
<p><code>adf.impl.module</code>: source code of the algorithms, e.g., path planning, clustering, target detection, etc. representing the agents' behavior. The modules are split into</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>adf.impl.module.algorithm</code></p>
</li>
<li>
<p><code>adf.impl.module.comm</code></p>
</li>
<li>
<p><code>adf.impl.module.complex</code></p>
</li>
</ul>
</div>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>To customize any of these modules, you can copy modules'  file you want to customize to you team agents' repository and make changes to the implementation. Then you need to change the references to your modules by modifying <code>config/module.cfg</code> file (see below).</p>
</div>
</div>
<div class="sect2">
<h3 id="module_configuration">4.3. Modules' configuration file</h3>
<div class="paragraph">
<p>The modules configuration file <code>config/module.cfg</code> indicates which class will be used as agents' module. <a href="#lst:module_configuration">Listing 1</a> shows part of the modules configuration file. The left-hand side of the colon indicates the module name, the right-hand side is the class name. In most cases, modules of which targets' problems are the same should refer to an identical class for all agent types. The example in <a href="#lst:module_configuration">Listing 1</a> is in <code>DefaultTacticsAmbulanceTeam.Search</code> and <code>DefaultTacticsFireBrigade.Search</code> indicates that both modules refer to <code>sample_team.module.complex.SampleSearch</code>. An usage example is shown in <a href="#edit_module_configuration">Section 4.4.3</a>.</p>
</div>
<div id="lst:module_configuration" class="listingblock">
<div class="title"><strong>Listing 1</strong>. Part of a module configuration file</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="text">## DefaultTacticsAmbulanceTeam
DefaultTacticsAmbulanceTeam.HumanDetector : sample_team.module.complex.SampleHumanDetector
DefaultTacticsAmbulanceTeam.Search : sample_team.module.complex.SampleSearch
DefaultTacticsAmbulanceTeam.ExtActionTransport : adf.impl.extaction.DefaultExtActionTransport
DefaultTacticsAmbulanceTeam.ExtActionMove : adf.impl.extaction.DefaultExtActionMove
DefaultTacticsAmbulanceTeam.CommandExecutorAmbulance : adf.impl.centralized.DefaultCommandExecutorAmbulance
DefaultTacticsAmbulanceTeam.CommandExecutorScout : adf.impl.centralized.DefaultCommandExecutorScout

## DefaultTacticsFireBrigade
DefaultTacticsFireBrigade.HumanDetector : sample_team.module.complex.SampleHumanDetector
DefaultTacticsFireBrigade.Search : sample_team.module.complex.SampleSearch
DefaultTacticsFireBrigade.ExtActionFireRescue : adf.impl.extaction.DefaultExtActionFireRescue
DefaultTacticsFireBrigade.ExtActionMove : adf.impl.extaction.DefaultExtActionMove
DefaultTacticsFireBrigade.CommandExecutorFire : adf.impl.centralized.DefaultCommandExecutorFire
DefaultTacticsFireBrigade.CommandExecutorScout : adf.impl.centralized.DefaultCommandExecutorScout</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="astar_example">4.4. Example of implementing A* algorithm for Path Planning algorithm</h3>
<div class="paragraph">
<p>In this example, you will learn how to implement the A* Path Planning algorithm in a module and how to setup the ADF Sample Agent to use it instead of the Dijkstra Path Planning. Here we assume that you will apply the changes to the <code>adf-sample-agent-java</code> repository.</p>
</div>
<div class="sect3">
<h4 id="copy_sample">4.4.1. Copy the Dijkstra Path Planning file</h4>
<div class="paragraph">
<p>First, you should copy the Dijkstra path planning (<code>src/main/java/adf/impl/module/algorithm/DijkstraPathPlanning.java</code>) from the <code>adf-core-java</code> repository to the <code>adf-sample-agent-java</code> repository (<code>src/main/java/sample_team/module/algorithm</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">cd </span>adf-sample-agent-java
<span class="nv">$ </span><span class="nb">mkdir</span> <span class="nt">-p</span> src/main/java/sample_team/module/algorithm
<span class="nv">$ </span><span class="nb">cp</span> ../adf-core-java/src/main/java/adf/impl/module/algorithm/DijkstraPathPlanning.java src/main/java/sample_team/module/algorithm/AStarPathPlanning.java</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="edit_sample">4.4.2. Edit the Dijkstra code</h4>
<div class="paragraph">
<p><a href="#lst:sample_path_planning">Listing 2</a> is the code of <code>DijkstraPathPlanning.java</code>, which implements the Dijkstra&#8217;s algorithm. You should edit line 1 and 23th as well as replace the code in the method <code>calc()</code> starting on line 96. Remove the method <code>isGoal()</code> that is only used by the Dijkstra <code>calc()</code>. <a href="#lst:astar_planning">Listing 3</a> shows the results of editing these lines.</p>
</div>
<div class="paragraph">
<p>You must implement the method <code>calc()</code> to get its calculation result
by the method <code>getResult()</code>. The type of <code>getResult()</code> returning is <code>List&lt;EntityID&gt;</code>.</p>
</div>
<div class="paragraph">
<p><a href="#lst:astar_planning_calc">Listing 4</a> indicates the contents of the method <code>calc()</code>. In addition, you should write the new private class <code>Node</code> which is used by the method <code>calc()</code>. The code is shown in <a href="#lst:astar_node_class">Listing 5</a>.</p>
</div>
<div id="lst:sample_path_planning" class="listingblock">
<div class="title"><strong>Listing 2</strong>. <code>DijkstraPathPlanning.java</code> file</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno">  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
</pre></td><td class="code"><pre><span class="kn">package</span> <span class="nn">adf.impl.module.algorithm</span><span class="o">;</span> <span class="c1">// Edit this line</span>

<span class="kn">import</span> <span class="nn">adf.core.agent.communication.MessageManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">adf.core.agent.develop.DevelopData</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">adf.core.agent.info.AgentInfo</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">adf.core.agent.info.ScenarioInfo</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">adf.core.agent.info.WorldInfo</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">adf.core.agent.module.ModuleManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">adf.core.agent.precompute.PrecomputeData</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">adf.core.component.module.algorithm.PathPlanning</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.LinkedList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">rescuecore2.misc.collections.LazyMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">rescuecore2.standard.entities.Area</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">rescuecore2.worldmodel.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">rescuecore2.worldmodel.EntityID</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DijkstraPathPlanning</span> <span class="kd">extends</span> <span class="nc">PathPlanning</span> <span class="o">{</span> <span class="c1">// Edit this line</span>

  <span class="kd">private</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">,</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;&gt;</span> <span class="n">graph</span><span class="o">;</span>

  <span class="kd">private</span> <span class="nc">EntityID</span> <span class="n">from</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">targets</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">DijkstraPathPlanning</span><span class="o">(</span><span class="nc">AgentInfo</span> <span class="n">ai</span><span class="o">,</span> <span class="nc">WorldInfo</span> <span class="n">wi</span><span class="o">,</span> <span class="nc">ScenarioInfo</span> <span class="n">si</span><span class="o">,</span> <span class="nc">ModuleManager</span> <span class="n">moduleManager</span><span class="o">,</span> <span class="nc">DevelopData</span> <span class="n">developData</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">(</span><span class="n">ai</span><span class="o">,</span> <span class="n">wi</span><span class="o">,</span> <span class="n">si</span><span class="o">,</span> <span class="n">moduleManager</span><span class="o">,</span> <span class="n">developData</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">init</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">,</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;&gt;</span> <span class="n">neighbours</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LazyMap</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">,</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;&gt;()</span> <span class="o">{</span>

          <span class="nd">@Override</span>
          <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="nf">createValue</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
          <span class="o">}</span>
        <span class="o">};</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">Entity</span> <span class="n">next</span> <span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="na">worldInfo</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">next</span> <span class="k">instanceof</span> <span class="nc">Area</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">areaNeighbours</span> <span class="o">=</span> <span class="o">((</span><span class="nc">Area</span><span class="o">)</span> <span class="n">next</span><span class="o">).</span><span class="na">getNeighbours</span><span class="o">();</span>
        <span class="n">neighbours</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">next</span><span class="o">.</span><span class="na">getID</span><span class="o">()).</span><span class="na">addAll</span><span class="o">(</span><span class="n">areaNeighbours</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">this</span><span class="o">.</span><span class="na">graph</span> <span class="o">=</span> <span class="n">neighbours</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="nf">getResult</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">result</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">PathPlanning</span> <span class="nf">setFrom</span><span class="o">(</span><span class="nc">EntityID</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">from</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">PathPlanning</span> <span class="nf">setDestination</span><span class="o">(</span><span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">targets</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">targets</span> <span class="o">=</span> <span class="n">targets</span><span class="o">;</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">PathPlanning</span> <span class="nf">updateInfo</span><span class="o">(</span><span class="nc">MessageManager</span> <span class="n">messageManager</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">updateInfo</span><span class="o">(</span><span class="n">messageManager</span><span class="o">);</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">PathPlanning</span> <span class="nf">precompute</span><span class="o">(</span><span class="nc">PrecomputeData</span> <span class="n">precomputeData</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">precompute</span><span class="o">(</span><span class="n">precomputeData</span><span class="o">);</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">PathPlanning</span> <span class="nf">resume</span><span class="o">(</span><span class="nc">PrecomputeData</span> <span class="n">precomputeData</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">resume</span><span class="o">(</span><span class="n">precomputeData</span><span class="o">);</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">PathPlanning</span> <span class="nf">preparate</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">preparate</span><span class="o">();</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">PathPlanning</span> <span class="nf">calc</span><span class="o">()</span> <span class="o">{</span>   <span class="c1">// Replace the code in this method by the A* Path Planning algorithm</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">open</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
    <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">,</span> <span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">ancestors</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
    <span class="n">open</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">from</span><span class="o">);</span>
    <span class="nc">EntityID</span> <span class="n">next</span><span class="o">;</span>
    <span class="kt">boolean</span> <span class="n">found</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="n">ancestors</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">from</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">from</span><span class="o">);</span>
    <span class="k">do</span> <span class="o">{</span>
      <span class="n">next</span> <span class="o">=</span> <span class="n">open</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">isGoal</span><span class="o">(</span><span class="n">next</span><span class="o">,</span> <span class="n">targets</span><span class="o">))</span> <span class="o">{</span>
        <span class="n">found</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="o">}</span>
      <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">neighbours</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">next</span><span class="o">);</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">neighbours</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
        <span class="k">continue</span><span class="o">;</span>
      <span class="o">}</span>
      <span class="k">for</span> <span class="o">(</span><span class="nc">EntityID</span> <span class="n">neighbour</span> <span class="o">:</span> <span class="n">neighbours</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">isGoal</span><span class="o">(</span><span class="n">neighbour</span><span class="o">,</span> <span class="n">targets</span><span class="o">))</span> <span class="o">{</span>
          <span class="n">ancestors</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">neighbour</span><span class="o">,</span> <span class="n">next</span><span class="o">);</span>
          <span class="n">next</span> <span class="o">=</span> <span class="n">neighbour</span><span class="o">;</span>
          <span class="n">found</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
          <span class="k">if</span> <span class="o">(!</span><span class="n">ancestors</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">neighbour</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">open</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">neighbour</span><span class="o">);</span>
            <span class="n">ancestors</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">neighbour</span><span class="o">,</span> <span class="n">next</span><span class="o">);</span>
          <span class="o">}</span>
        <span class="o">}</span>
      <span class="o">}</span>
    <span class="o">}</span> <span class="k">while</span> <span class="o">(!</span><span class="n">found</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">open</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">());</span>
    <span class="k">if</span> <span class="o">(!</span><span class="n">found</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// No path</span>
      <span class="k">this</span><span class="o">.</span><span class="na">result</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="c1">// Walk back from goal to this.from</span>
    <span class="nc">EntityID</span> <span class="n">current</span> <span class="o">=</span> <span class="n">next</span><span class="o">;</span>
    <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">path</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
    <span class="k">do</span> <span class="o">{</span>
      <span class="n">path</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">current</span><span class="o">);</span>
      <span class="n">current</span> <span class="o">=</span> <span class="n">ancestors</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">current</span><span class="o">);</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">current</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span>
            <span class="s">"Found a node with no ancestor! Something is broken."</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span> <span class="k">while</span> <span class="o">(</span><span class="n">current</span> <span class="o">!=</span> <span class="k">this</span><span class="o">.</span><span class="na">from</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">result</span> <span class="o">=</span> <span class="n">path</span><span class="o">;</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isGoal</span><span class="o">(</span><span class="nc">EntityID</span> <span class="n">e</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">test</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">test</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div id="lst:astar_planning" class="listingblock">
<div class="title"><strong>Listing 3</strong>. <code>AStartPlanning.java</code> file</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td><td class="code"><pre><span class="kn">package</span> <span class="nn">sample_team.module.algorithm</span><span class="o">;</span> <span class="c1">// Position of the file</span>

<span class="kn">import</span> <span class="nn">adf.core.agent.develop.DevelopData</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">adf.core.agent.info.AgentInfo</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">adf.core.agent.info.ScenarioInfo</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">adf.core.agent.info.WorldInfo</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">adf.core.agent.module.ModuleManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">adf.core.agent.precompute.PrecomputeData</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">adf.core.component.module.algorithm.PathPlanning</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.LinkedList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">rescuecore2.misc.collections.LazyMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">rescuecore2.standard.entities.Area</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">rescuecore2.worldmodel.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">rescuecore2.worldmodel.EntityID</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AStarPathPlanning</span> <span class="kd">extends</span> <span class="nc">PathPlanning</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">,</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;&gt;</span> <span class="n">graph</span><span class="o">;</span>

  <span class="kd">private</span> <span class="nc">EntityID</span> <span class="n">from</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">targets</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">AStarPathPlanning</span><span class="o">(</span><span class="nc">AgentInfo</span> <span class="n">ai</span><span class="o">,</span> <span class="nc">WorldInfo</span> <span class="n">wi</span><span class="o">,</span> <span class="nc">ScenarioInfo</span> <span class="n">si</span><span class="o">,</span> <span class="nc">ModuleManager</span> <span class="n">moduleManager</span><span class="o">,</span> <span class="nc">DevelopData</span> <span class="n">developData</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">(</span><span class="n">ai</span><span class="o">,</span> <span class="n">wi</span><span class="o">,</span> <span class="n">si</span><span class="o">,</span> <span class="n">moduleManager</span><span class="o">,</span> <span class="n">developData</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">init</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="o">...</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div id="lst:astar_planning_calc" class="listingblock">
<div class="title"><strong>Listing 4</strong>. <code>calc()</code> method</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
</pre></td><td class="code"><pre>  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">PathPlanning</span> <span class="nf">calc</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">open</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">close</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
    <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">,</span> <span class="nc">Node</span><span class="o">&gt;</span> <span class="n">nodeMap</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>

    <span class="n">open</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">from</span><span class="o">);</span>
    <span class="n">nodeMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">from</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Node</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">from</span><span class="o">));</span>
    <span class="n">close</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>

    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">open</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">result</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
      <span class="o">}</span>

      <span class="nc">Node</span> <span class="n">n</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
      <span class="k">for</span> <span class="o">(</span><span class="nc">EntityID</span> <span class="n">id</span> <span class="o">:</span> <span class="n">open</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Node</span> <span class="n">node</span> <span class="o">=</span> <span class="n">nodeMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">n</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
          <span class="n">n</span> <span class="o">=</span> <span class="n">node</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">estimate</span><span class="o">()</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">.</span><span class="na">estimate</span><span class="o">())</span> <span class="o">{</span>
          <span class="n">n</span> <span class="o">=</span> <span class="n">node</span><span class="o">;</span>
        <span class="o">}</span>
      <span class="o">}</span>

      <span class="k">if</span> <span class="o">(</span><span class="n">targets</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="na">getID</span><span class="o">()))</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">path</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">n</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
          <span class="n">path</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">n</span><span class="o">.</span><span class="na">getID</span><span class="o">());</span>
          <span class="n">n</span> <span class="o">=</span> <span class="n">nodeMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="na">getParent</span><span class="o">());</span>
        <span class="o">}</span>

        <span class="k">this</span><span class="o">.</span><span class="na">result</span> <span class="o">=</span> <span class="n">path</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
      <span class="o">}</span>
      <span class="n">open</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="na">getID</span><span class="o">());</span>
      <span class="n">close</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="na">getID</span><span class="o">());</span>

      <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">EntityID</span><span class="o">&gt;</span> <span class="n">neighbours</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">graph</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">n</span><span class="o">.</span><span class="na">getID</span><span class="o">());</span>
      <span class="k">for</span> <span class="o">(</span><span class="nc">EntityID</span> <span class="n">neighbour</span> <span class="o">:</span> <span class="n">neighbours</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Node</span> <span class="n">m</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Node</span><span class="o">(</span><span class="n">n</span><span class="o">,</span> <span class="n">neighbour</span><span class="o">);</span>

        <span class="k">if</span> <span class="o">(!</span><span class="n">open</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">neighbour</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">close</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">neighbour</span><span class="o">))</span> <span class="o">{</span>
          <span class="n">open</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">m</span><span class="o">.</span><span class="na">getID</span><span class="o">());</span>
          <span class="n">nodeMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">neighbour</span><span class="o">,</span> <span class="n">m</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">open</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">neighbour</span><span class="o">)</span>
            <span class="o">&amp;&amp;</span> <span class="n">m</span><span class="o">.</span><span class="na">estimate</span><span class="o">()</span> <span class="o">&lt;</span> <span class="n">nodeMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">neighbour</span><span class="o">).</span><span class="na">estimate</span><span class="o">())</span> <span class="o">{</span>
          <span class="n">nodeMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">neighbour</span><span class="o">,</span> <span class="n">m</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(!</span><span class="n">close</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">neighbour</span><span class="o">)</span>
            <span class="o">&amp;&amp;</span> <span class="n">m</span><span class="o">.</span><span class="na">estimate</span><span class="o">()</span> <span class="o">&lt;</span> <span class="n">nodeMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">neighbour</span><span class="o">).</span><span class="na">estimate</span><span class="o">())</span> <span class="o">{</span>
          <span class="n">nodeMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">neighbour</span><span class="o">,</span> <span class="n">m</span><span class="o">);</span>
        <span class="o">}</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div id="lst:astar_node_class" class="listingblock">
<div class="title"><strong>Listing 5</strong>. <code>Node</code> class</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre></td><td class="code"><pre><span class="kd">private</span> <span class="kd">class</span> <span class="nc">Node</span> <span class="o">{</span>
    <span class="nc">EntityID</span> <span class="n">id</span><span class="o">;</span>
    <span class="nc">EntityID</span> <span class="n">parent</span><span class="o">;</span>

    <span class="kt">double</span> <span class="n">cost</span><span class="o">;</span>
    <span class="kt">double</span> <span class="n">heuristic</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Node</span><span class="o">(</span><span class="nc">Node</span> <span class="n">from</span><span class="o">,</span> <span class="nc">EntityID</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>

      <span class="k">if</span> <span class="o">(</span><span class="n">from</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">cost</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">parent</span> <span class="o">=</span> <span class="n">from</span><span class="o">.</span><span class="na">getID</span><span class="o">();</span>
        <span class="k">this</span><span class="o">.</span><span class="na">cost</span> <span class="o">=</span> <span class="n">from</span><span class="o">.</span><span class="na">getCost</span><span class="o">()</span> <span class="o">+</span> <span class="n">worldInfo</span><span class="o">.</span><span class="na">getDistance</span><span class="o">(</span><span class="n">from</span><span class="o">.</span><span class="na">getID</span><span class="o">(),</span> <span class="n">id</span><span class="o">);</span>
      <span class="o">}</span>

      <span class="k">this</span><span class="o">.</span><span class="na">heuristic</span> <span class="o">=</span> <span class="n">worldInfo</span><span class="o">.</span><span class="na">getDistance</span><span class="o">(</span><span class="n">id</span><span class="o">,</span>
          <span class="n">targets</span><span class="o">.</span><span class="na">toArray</span><span class="o">(</span><span class="k">new</span> <span class="nc">EntityID</span><span class="o">[</span><span class="n">targets</span><span class="o">.</span><span class="na">size</span><span class="o">()])[</span><span class="mi">0</span><span class="o">]);</span>
    <span class="o">}</span>


    <span class="kd">public</span> <span class="nc">EntityID</span> <span class="nf">getID</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">getCost</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">cost</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">estimate</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">cost</span> <span class="o">+</span> <span class="n">heuristic</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="kd">public</span> <span class="nc">EntityID</span> <span class="nf">getParent</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">parent</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="edit_module_configuration">4.4.3. Edit the Modules' configuration file</h4>
<div class="paragraph">
<p>After created the module code, you must edit the module configuration file <code>config/module.cfg</code> and replace the modules you would like to use your implementation. <a href="#lst:default_module_cfg">Listing 6</a> and <a href="#lst:edited_module_cfg">Listing 7</a> show the part of the default <code>module.cfg</code> and the part of the edited <code>config/module.cfg</code> where the lines related to a path planning are changed. In this case, all <code>adf.impl.module.algorithm.DijkstraPathPlanning</code> are replaced with <code>sample_team.module.algorithm.AStarPathPlanning</code>.</p>
</div>
<div id="lst:default_module_cfg" class="listingblock">
<div class="title"><strong>Listing 6</strong>. Default <code>module.cfg</code></div>
<div class="content">
<pre class="rouge highlight"><code data-lang="text">## SampleSearch
SampleSearch.PathPlanning.Ambulance : adf.impl.module.algorithm.DijkstraPathPlanning
SampleSearch.Clustering.Ambulance : adf.impl.module.algorithm.KMeansClustering
SampleSearch.PathPlanning.Fire : adf.impl.module.algorithm.DijkstraPathPlanning
SampleSearch.Clustering.Fire : adf.impl.module.algorithm.KMeansClustering
SampleSearch.PathPlanning.Police : adf.impl.module.algorithm.DijkstraPathPlanning
SampleSearch.Clustering.Police : adf.impl.module.algorithm.KMeansClustering</code></pre>
</div>
</div>
<div id="lst:edited_module_cfg" class="listingblock">
<div class="title"><strong>Listing 7</strong>. Edited <code>module.cfg</code></div>
<div class="content">
<pre class="rouge highlight"><code data-lang="text">## SampleSearch
SampleSearch.PathPlanning.Ambulance : sample_team.module.algorithm.AStarPathPlanning
SampleSearch.Clustering.Ambulance : adf.impl.module.algorithm.KMeansClustering
SampleSearch.PathPlanning.Fire : adf.impl.module.algorithm.AStarPathPlanning
SampleSearch.Clustering.Fire : adf.impl.module.algorithm.KMeansClustering
SampleSearch.PathPlanning.Police : adf.impl.module.algorithm.AStarPathPlanning
SampleSearch.Clustering.Police : adf.impl.module.algorithm.KMeansClustering</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 4.1<br>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>